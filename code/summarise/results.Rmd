---
title: European COVID-19 Scenario Modelling Hub
output:
  html_document: default
params:
  round: 0
---

```{r set-up, include=FALSE}
# Packages
library(here)
library(dplyr)
library(ggplot2)
# Settings
knitr::opts_chunk$set(eval = TRUE, echo = FALSE, 
                      message = FALSE, warning = FALSE,
                      eval.after = "fig.cap")
source(here("code", "load", "scenarios.R"))
```

# Round `r round`

- Reporting projections originating `r scenarios[[paste0("round_", round)]][["origin_date"]]`

- Report created `r Sys.Date()`

- Read the [full scenario details](`r paste0("https://github.com/covid19-forecast-hub-europe/covid19-scenario-hub-europe/wiki/Round-", round)`)

### Models

```{r models}
models_summary <- results %>%
  group_by(model) %>%
  summarise(Locations = n_distinct(location),
            scenarios = n_distinct(scenario_id),
            variables = n_distinct(target_variable),
            quantiles = "quantile" %in% type,
            max_date = max(target_end_date),
            Weeks = max(as.numeric(gsub(" wk", "", horizon))))

models_summary %>%
  select(Model = model, Locations, Weeks) %>%
  arrange(desc(Weeks)) %>%
  arrange(desc(Locations)) %>%
  knitr::kable(caption = "Available model results")

```


### Projections {.tabset}

Results show 95% model projections across 4 scenarios and 32 locations.

#### By scenario {.tabset .tabset-pills}

##### Cases
![](`r here("reports", "round-0", "cross-scenario-cases.png")`)

##### Deaths
![](`r here("reports", "round-0", "cross-scenario-deaths.png")`)

#### By model {.tabset .tabset-pills}

##### Cases
![](`r here("reports", "round-0", "cross-model-cases.png")`)

##### Deaths
![](`r here("reports", "round-0", "cross-model-deaths.png")`)
